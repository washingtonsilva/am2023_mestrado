<!DOCTYPE html>
<html lang="pt"><head>
<script src="aula07_files/libs/clipboard/clipboard.min.js"></script>
<script src="aula07_files/libs/quarto-html/tabby.min.js"></script>
<script src="aula07_files/libs/quarto-html/popper.min.js"></script>
<script src="aula07_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="aula07_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="aula07_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="aula07_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="aula07_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">
<meta name="author" content="Prof.&nbsp;Washington Santos da Silva">
<title>An√°lise Multivariada</title>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
<link rel="stylesheet" href="aula07_files/libs/revealjs/dist/reset.css">
<link rel="stylesheet" href="aula07_files/libs/revealjs/dist/reveal.css">
<style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
    /* CSS for citations */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
      margin-bottom: 1em;
    }
    .hanging-indent div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }  </style>
<link rel="stylesheet" href="aula07_files/libs/revealjs/dist/theme/quarto.css">
<link rel="stylesheet" href="logo.css">
<link href="aula07_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
<link href="aula07_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
<link href="aula07_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
<link href="aula07_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
<style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
<style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center"><h1 class="title">An√°lise Multivariada</h1>
  <p class="subtitle">An√°lise Fatorial Confirmat√≥ria</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Prof.&nbsp;Washington Santos da Silva 
</div>
        <p class="quarto-title-affiliation">
            IFMG - Campus Formiga
          </p>
    </div>
</div>

  <p class="date">26 de novembro de 2023</p>
</section><section id="an√°lise-fatorial-confirmat√≥ria-cfa" class="slide level2 scrollable"><h2>An√°lise Fatorial Confirmat√≥ria (CFA)</h2>
<ul>
<li>CFA √© um caso especial dos <strong>Modelos de Equa√ß√µes Estruturais (SEM)</strong>.</li>
</ul>
<p>Principais aplica√ß√µes:</p>
<ul>
<li><p>Avaliar a estrutura de escalas de pesquisas ‚Äî os itens s√£o carregados onde seria esperado?</p></li>
<li><p>Avaliar o ajuste/adequa√ß√£o de um modelo fatorial ‚Äî o modelo proposto √© melhor do que as alternativas?</p></li>
<li><p>Avaliar os pesos dos itens uns em rela√ß√£o aos outros e a uma escala ‚Äì eles contribuem igualmente?</p></li>
<li><p>Modelar outros efeitos, como efeitos de m√©todos e relacionamentos hier√°rquicos.</p></li>
</ul></section><section id="cfa-avalia√ß√£o-de-escala---pies" class="slide level2 scrollable"><h2>CFA: Avalia√ß√£o de Escala - PIES</h2>
<ul>
<li><p>Come√ßamos considerando uma escala de pesquisa que busca avaliar o envolvimento com um produto.</p></li>
<li><p><span class="citation" data-cites="chapman2014pies">CHAPMAN et al. (<a href="#/refer√™ncias" role="doc-biblioref" onclick="">2014</a>)</span> proposuream esta escala.</p></li>
<li><p>Usando os itens exibidos na <a href="#/pies-instrumento"><strong>Fig.</strong>&nbsp;1</a>, esta escala reflete uma teoria em que o envolvimento com um produto √© uma constru√ß√£o hier√°rquica que compreende 3 fatores:</p></li>
</ul>
<ol type="1">
<li>Envolvimento geral com uma <em>categoria de produto</em>,</li>
<li>Envolvimento com as <em>caracter√≠sticas do produto</em>, e;</li>
<li>Envolvimento com a categoria em termos de <em>imagem pessoal</em>.</li>
</ol>
<ul>
<li>Neste instrumento, tr√™s subescalas refletem os 3 fatores que podem levar a pontua√ß√µes mais altas ou mais baixas dependendo de como os consumidores veem um produto.</li>
</ul></section><section id="pies-instrumento" class="slide level2 nostretch"><h2>PIES: Instrumento</h2>
<div id="fig-piestab" class="quarto-figure quarto-figure-center">
<figure><p><img data-src="img/pies-tab.jpeg" style="width:65.0%"></p>
<figcaption><strong>Figura</strong>&nbsp;1<strong>.</strong> PIES (Fonte: <span class="citation" data-cites="chapman2014pies">CHAPMAN et al. (<a href="#/refer√™ncias" role="doc-biblioref" onclick="">2014</a>)</span>)</figcaption></figure>
</div>
</section><section id="cfa-avalia√ß√£o-de-escala---pies-1" class="slide level2 scrollable"><h2>CFA: Avalia√ß√£o de Escala - PIES</h2>
<ul>
<li><p>Por exemplo, profissionais de marketing, esperariam que <strong>c√¢meras digitais</strong> envolvessem os consumidores em termos das suas caracter√≠sticas t√©cnicas e, assim, obtivessem uma pontua√ß√£o elevada no envolvimento com as caracter√≠sticas.</p></li>
<li><p>Por outro lado, o <strong>vestu√°rio</strong> √© um componente-chave de imagem pessoal e pode-se esperar que obtenha uma pontua√ß√£o elevada em termos de envolvimento com a imagem.</p></li>
<li><p>Um produto gen√©rico como <strong>papel</strong> pode apresentar um baixo envolvimento do consumidor em todos os 3 factores, enquanto <strong>autom√≥veis</strong> pode ter um envolvimento relativamente elevado em todos os tr√™s fatores.</p></li>
<li><p>Este modelo foi proposto como uma alternativa a um modelo de fator √∫nico de envolvimento com um produto, onde o envolvimento √© simplesmente alto ou baixo em geral, sem diferencia√ß√£o entre fatores como envolvimento com caracter√≠sticas ou imagem.</p></li>
</ul></section><section id="cfa-avalia√ß√£o-de-escala---pies-2" class="slide level2 scrollable"><h2>CFA: Avalia√ß√£o de Escala - PIES</h2>
<ul>
<li>O modelo de 3-fatores foi denominado PIES como uma abreviatura de ‚Äú<em>Product Involvement and Enthusiasm Scale</em>‚Äù.</li>
</ul>
<p>Pode ser usado em muitas situa√ß√µes de marketing:</p>
<ul>
<li><p>Por exemplo, se avaliarmos que uma categoria de produto tem alto envolvimento em caracter√≠sticas, podemos desenvolver estrat√©gias de comunica√ß√£o e de posicionamento que enfatizem as especifica√ß√µes t√©cnicas.</p></li>
<li><p>Tamb√©m pode ser usado para informar a segmenta√ß√£o:</p></li>
<li><p>Se concluirmos que um determinado grupo demogr√°fico considera a categoria de produto importante para sua imagem pessoal, ent√£o podemos direcion√°-los com campanhas que destacam o produto em termos de imagem pessoal.</p></li>
</ul></section><section id="pies-modelo-estrutural" class="slide level2"><h2>PIES: Modelo Estrutural</h2>
<p>O modelo estrutural PIES prop√µe quatro construtos latentes (n√£o observados) que fundamentam o envolvimento com o produto:</p>
<ul>
<li>um fator de envolvimento geral (abreviado como ‚ÄúGnr‚Äù),</li>
<li>um fator de escolha/caracter√≠stica (‚ÄúFeature‚Äù ou ‚ÄúFtr‚Äù),</li>
<li>uma fator de imagem (‚ÄúImg‚Äù), e;</li>
<li>um fator PIE de ordem superior (envolvimento e engajamento do produto) que √© concebido como o n√≠vel de interesse subjacente aos outros tr√™s fatores.</li>
</ul>
<p>Este modelo de fatores hier√°rquicos √© exibido na <a href="#/pies-modelo-estrutural-1"><strong>Fig.</strong>&nbsp;2</a>.</p>
</section><section id="pies-modelo-estrutural-1" class="slide level2 nostretch"><h2>PIES: Modelo Estrutural</h2>
<div id="fig-piessem" class="quarto-figure quarto-figure-center">
<figure><p><img data-src="img/piessem.jpeg" style="width:65.0%"></p>
<figcaption><strong>Figura</strong>&nbsp;2<strong>.</strong> PIES: Modelo Hier√°rquico Fatorial exibindo 3 fatores de envolvimento com um produto (<em>General</em> = Gnr, <em>Feature</em> = Ftr e <em>Image</em> = Img). Esses tr√™s fatores latentes est√£o relacionados a um fator geral de ordem superior de envolvimento, PIE. As rela√ß√µes entre eles s√£o rela√ß√µes lineares de vari√°veis latentes n√£o observadas que correspondem a uma teoria espec√≠fica sobre o envolvimento do produto.(Fonte: <span class="citation" data-cites="chapman2014pies">CHAPMAN et al. (<a href="#/refer√™ncias" role="doc-biblioref" onclick="">2014</a>)</span>)</figcaption></figure>
</div>
</section><section id="pies-modelo-estrutural-2" class="slide level2"><h2>PIES: Modelo Estrutural</h2>
<ul>
<li><p>Os 3 fatores de envolvimento e o fator PIE de ordem superior s√£o modelados como vari√°veis latentes (fatores )que n√£o s√£o diretamente observadas.</p></li>
<li><p>Mas s√£o concebidas para influenciar os itens da pesquisa que os manifestam.</p></li>
<li><p>Na pesquisa, cada fator √© representado por um subescala composta por v√°rios itens, conforme mostrado na <a href="#/pies-instrumento"><strong>Fig.</strong>&nbsp;1</a>.</p></li>
</ul></section><section id="pies-modelo-estrutural-completo" class="slide level2"><h2>PIES: Modelo Estrutural Completo</h2>
<ul>
<li><p>No modelo hier√°rquico, o fator PIE geral n√£o influencia diretamente nenhum item da escala.</p></li>
<li><p>Em vez disso, influencia os outros tr√™s fatores como uma vari√°vel latente de ordem superior.</p></li>
<li><p>O modelo estrutural completo, mostrando a rela√ß√£o hier√°rquica dos construtos latentes e os itens manifestos da escala que s√£o observados para cada construto, √© mostrado na <a href="#/pies-modelo-estrutural-completo-1"><strong>Fig.</strong>&nbsp;3</a>.</p></li>
</ul></section><section id="pies-modelo-estrutural-completo-1" class="slide level2 nostretch"><h2>PIES: Modelo Estrutural Completo</h2>
<div id="fig-piescomp" class="quarto-figure quarto-figure-center">
<figure><p><img data-src="img/piescomp.jpeg" style="width:90.0%"></p>
<figcaption><strong>Figura</strong>&nbsp;3<strong>.</strong> O modelo PIES completo com fatores latentes e itens manifestos da escala (Fonte: <span class="citation" data-cites="chapman2014pies">CHAPMAN et al. (<a href="#/refer√™ncias" role="doc-biblioref" onclick="">2014</a>)</span>)</figcaption></figure>
</div>
</section><section id="pies-pergunta-de-um-analista" class="slide level2"><h2>PIES: Pergunta de um Analista</h2>
<ul>
<li><p>Uma pergunta para os autores do PIES poderia ser: o esquema PIES √© um bom modelo para algum conjunto de respostas para os itens do instrumento proposto (<a href="#/pies-instrumento"><strong>Fig.</strong>&nbsp;1</a>)?</p></li>
<li><p>Se confirmarmos que o PIES √© um bom modelo, estaremos mais confiantes na utiliza√ß√£o dos dados deste question√°rio para fazer infer√™ncias sobre o envolvimento com um produto.</p></li>
<li><p>Tentaremos mostrar como a Modelagem de Equa√ß√µes Estruturais (SEM) em R pode confirmar, ou n√£o, o modelo PIES.</p></li>
</ul></section><section id="pies-an√°lise-fatorial-confirmat√≥ria" class="slide level2"><h2>PIES: An√°lise Fatorial Confirmat√≥ria</h2>
<p>Para isso, utilizaremos uma aplica√ß√£o espec√≠fica da SEM conhecida como <strong>An√°lise Fatorial Confirmat√≥ria</strong> (CFA).</p>
<p>Na CFA, especifica-se a estrutura fatorial e pergunta-se:</p>
<blockquote>
<blockquote>
<p>‚ÄúQu√£o bem o modelo proposto √© consistente com a estrutura dos dados?‚Äù</p>
</blockquote>
</blockquote>
<p>Tamb√©m abordaremos uma quest√£o intimamente relacionada:</p>
<blockquote>
<blockquote>
<p>‚ÄúEsse modelo √© melhor do que algum outro modelo?‚Äù</p>
</blockquote>
</blockquote>
</section><section id="etapas-gerais-da-cfa" class="slide level2"><h2>Etapas Gerais da CFA</h2>
<ol type="1">
<li><p>Defina seu modelo hipot√©tico: rela√ß√µes das <strong>vari√°veis latentes</strong> com as <strong>vari√°veis manifestas</strong>.</p></li>
<li><p>Defina um ou mais <strong>modelos alternativos</strong> que sejam razo√°veis, mas que voc√™ acredita serem inferiores.</p></li>
<li><p>Ajuste os modelos aos dados.</p></li>
<li><p>Determine se o seu modelo √© bom o suficiente (analise as <strong>medidas de qualidade do ajuste</strong>).</p></li>
<li><p>Determine se o seu modelo √© melhor que as alternativas.</p></li>
<li><p>Interprete os resultados.</p></li>
</ol></section><section id="simulando-dados" class="slide level2"><h2>Simulando dados</h2>
<ul>
<li><p>Para demonstrar a CFA, simularemos dados de uma estrutura fatorial conhecida que corresponde ao modelo PIES da <a href="#/pies-instrumento"><strong>Fig.</strong>&nbsp;1</a>.</p></li>
<li><p>Usaremos esses dados para demonstrar como testar um modelo te√≥rico com a CFA, o que normalmente seria feito com dados coletados de respondentes.</p></li>
<li><p>Em seguida, avaliaremos modelos alternativos e discutiremos a import√¢ncia da compara√ß√£o de modelos para a CFA.</p></li>
</ul></section><section id="simulando-dados-1" class="slide level2"><h2>Simulando dados</h2>
<ul>
<li><p>Utilizaremos o pacote lavaan para CFA (e SEM), incluindo a simula√ß√£o de dados e ajuste de modelos</p></li>
<li><p>Ampliaremos os recursos do pacote lavaan para compara√ß√£o e visualiza√ß√£o de modelos usando dois outros pacotes, semTools e semPlot.</p></li>
</ul></section><section id="simulando-dados-2" class="slide level2 scrollable"><h2>Simulando dados</h2>
<p>O primeiro passo √© instalar os pacotes e disponibiliz√°-los em R:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># install.packages(c("lavaan", "semTools", "semPlot"))</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">library</span>(lavaan)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="fu">library</span>(semTools)</span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="fu">library</span>(semPlot)</span></code><button title="Copiar para a √°rea de transfer√™ncia" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Com o pacote lavaan, um modelo estrutural pode ser especificado usando uma sintaxe similar √†s f√≥rmulas de um modelo linear de R.</p>
<p>Vamos especificar dois modelos:</p>
<ul>
<li><p>um modelo <strong>estrutural</strong> que ajustaremos aos dados e cuja estrutura desejamos avaliar, e;</p></li>
<li><p>um modelo de <strong>dados</strong> que usaremos apenas para gerar dados simulados para fins de teste.</p></li>
</ul></section><section id="modelo-estrutural" class="slide level2 scrollable"><h2>Modelo Estrutural</h2>
<p>O modelo estrutural √© especificado de acordo com o modelo mostrado na <a href="#/pies-modelo-estrutural-completo-1"><strong>Fig.</strong>&nbsp;3</a>, escrito como uma string simples:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="co"># especifica o modelo estrutural</span></span>
<span id="cb2-2"><a href="#cb2-2"></a>piesModel <span class="ot">&lt;-</span> <span class="st">"General =~ i1 + i2 + i3</span></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="st">              Feature =~ i3 + i4 + i5 + i6  + i7</span></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="st">              Image =~ i3 + i8 + i9 + i10 + i11 </span></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="st">              PIES =~ General + Feature + Image"</span></span></code><button title="Copiar para a √°rea de transfer√™ncia" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p>Em c√≥digo SEM, lemos o s√≠mbolo <code>=‚àº</code> como <code>√© manifestado por</code>, o que significa que √© estimado como uma √∫nica vari√°vel que √© composta pelos itens.</p></li>
<li><p>Cada linha nesta f√≥rmula define uma nova vari√°vel latente: <code>General</code>, <code>Feature</code> e assim por diante ‚Äì que n√£o aparece no conjunto de dados mas que o lavaan estimar√° com base nos itens observados i1, i2, etc.</p></li>
<li><p>Podemos ent√£o utilizar estas vari√°veis latentes noutras partes da f√≥rmula para expressar rela√ß√µes adicionais.</p></li>
<li><p>Por exemplo, neste c√≥digo a vari√°vel latente <code>PIES</code> relaciona-se, por sua vez, com as outras vari√°veis latentes <code>General</code>, <code>Feature</code> e <code>Image</code>.</p></li>
<li><p>Tais rela√ß√µes entre vari√°veis latentes s√£o um diferenciador chave entre SEM e a modelagem linear regular.</p></li>
<li><p>As f√≥rmulas <code>piesModel</code> dizem que <code>PIES</code> se manifesta por tr√™s fatores: <code>General</code>, <code>Feature</code> e <code>Image</code>, e cada um deles √© manifestado por 3 ou 4 dos itens <code>i1</code> a <code>i11</code>, conforme definido na <a href="#/pies-instrumento"><strong>Fig.</strong>&nbsp;1</a>.</p></li>
</ul></section><section id="simulando-dados-3" class="slide level2 scrollable"><h2>Simulando Dados</h2>
<p>Em seguida, simulamos dados semelhantes aos que poderiam resultar de uma pesquisa PIES com consumidores</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># especifica o modelo gerador de dados</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>piesDataModel <span class="ot">&lt;-</span> <span class="st">"General =~ 0.9*i1 + 0.7*i2 + 0.5*i3</span></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="st">                  Feature =~ 0.7*i4 + 0.9*i5 + 0.5*i6  + 0.9*i7</span></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="st">                  Image   =~ 0.8*i8 + 0.9*i9 + 0.8*i10 + 0.7*i11 </span></span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="st">                  PIES =~ 0.7*General + 0.8*Feature + 0.8*Image"</span></span></code><button title="Copiar para a √°rea de transfer√™ncia" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Simulamos dados com essa estrutura fatorial:</p>
<ul>
<li><p>fixando uma semente para ogerador de n√∫meros (pseudo)aleat√≥rio e;</p></li>
<li><p>usando <code>simulaData(MODEL, sample.nobs)</code>, onde <code>sample.nobs</code> √© o n√∫mero de observa√ß√µes (<code>N</code>).</p></li>
<li><p>Escolhemos <code>N = 3600</code> para aproximar os dados relatados no paper de <span class="citation" data-cites="chapman2014pies">CHAPMAN et al. (<a href="#/refer√™ncias" role="doc-biblioref" onclick="">2014</a>)</span>.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="cf">if</span> (<span class="fu">getRversion</span>() <span class="sc">&gt;=</span> <span class="st">"3.6.0"</span>) <span class="fu">suppressWarnings</span>(<span class="fu">RNGversion</span>(<span class="st">"3.5.0"</span>))</span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="fu">set.seed</span>(<span class="dv">10001</span>) <span class="co"># another island Zip code</span></span>
<span id="cb4-3"><a href="#cb4-3"></a>piesSimData.norm <span class="ot">&lt;-</span> <span class="fu">simulateData</span>(piesDataModel, <span class="at">sample.nobs =</span> <span class="dv">3600</span>)</span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="fu">print</span>(<span class="fu">head</span>(piesSimData.norm), <span class="at">digits =</span> <span class="dv">2</span>)</span></code><button title="Copiar para a √°rea de transfer√™ncia" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     i1    i2     i3    i4    i5    i6    i7     i8    i9    i10    i11
1  2.48 -0.46  0.482 -2.34 -1.87 -1.20 -0.76  1.540  0.49  0.043  0.640
2  0.66  1.30  0.038 -0.20  0.88 -0.53  1.37 -0.076  1.55 -1.491  0.377
3 -1.14 -2.06  0.099  1.47 -0.78 -0.81 -1.61 -1.590 -0.40  0.370  0.045
4  1.00 -1.02  1.614 -1.93 -0.52  0.42 -2.96 -1.717 -0.76 -0.973 -1.846
5 -0.51 -0.63 -0.765  0.17  0.98 -0.82  0.26 -1.166 -2.23 -0.805  0.171
6 -0.37 -0.46  0.038 -0.59 -0.73 -1.93  0.62  1.777  1.03  1.761  2.737</code></pre>
</div>
</div>
</section><section id="simulando-dados-4" class="slide level2 scrollable"><h2>Simulando Dados</h2>
<ul>
<li><p>Cada linha representa um conjunto de respostas hipot√©ticas da pesquisa de um entrevistado.</p></li>
<li><p>Observe que os dados gerados s√£o cont√≠nuos (extra√≠dos de uma distribui√ß√£o normal com valores decimais), portanto ainda n√£o s√£o apropriados para PIES;</p></li>
<li><p>Porque itens PIES s√£o pontua√ß√µes do tipo Likert entre 1 e 7.</p></li>
<li><p>Para converter os dados cont√≠nuos em dados de pesquisa discretos, usaremos a fun√ß√£o <code>cut(data, breaks = k)</code> que divide dados cont√≠nuos em <code>K</code> grupos, expressos como <code>K</code> n√≠veis de fator.</p></li>
<li><p>Poder√≠amos fazer isso separadamente para cada uma das 11 colunas de dados, mas √© mais eficiente faz√™-lo de uma forma que seja generaliz√°vel.</p></li>
</ul></section><section id="simulando-dados-5" class="slide level2 scrollable"><h2>Simulando Dados</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>piesSimData <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">lapply</span>(piesSimData.norm, <span class="cf">function</span>(x) {</span>
<span id="cb6-2"><a href="#cb6-2"></a>  <span class="fu">cut</span>(x, <span class="at">breaks =</span> <span class="dv">7</span>, <span class="at">labels =</span> <span class="cn">FALSE</span>)</span>
<span id="cb6-3"><a href="#cb6-3"></a>}))</span></code><button title="Copiar para a √°rea de transfer√™ncia" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p>Usamos <code><a href="https://rdrr.io/r/base/cut.html">cut()</a></code> para converter um vetor de dados num√©ricos cont√≠nuos em 7 intervalos, usamos <code>labels = FALSE</code> para manter o resultado como n√∫meros inteiros em vez de valores nominais rotulados.</p></li>
<li><p>Em seguida, inclu√≠mos isso em uma fun√ß√£o an√¥nima que pode ser usada repetidamente por lapply().</p></li>
<li><p>Aplicamos essa fun√ß√£o de recodifica√ß√£o an√¥nima a cada uma das colunas do do conjunto de dados usando <code><a href="https://rdrr.io/r/base/lapply.html">lapply()</a></code> e armazenamos o resultado em uma nova data frame chamada <code>piesSimData</code>.</p></li>
</ul></section><section id="dados-simulados" class="slide level2 scrollable"><h2>Dados Simulados</h2>
<p>Vamos verificar a qualidade dos dados simulados.</p>
<ol type="1">
<li>Vamos selecionar aleatoriamente 10 observa√ß√µes de <code>piesSimData</code> usando a fun√ß√£o <code>some()</code> do pacote <code>car</code>:</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>car<span class="sc">::</span><span class="fu">some</span>(piesSimData)</span></code><button title="Copiar para a √°rea de transfer√™ncia" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     i1 i2 i3 i4 i5 i6 i7 i8 i9 i10 i11
11    3  2  5  4  3  4  2  4  4   2   4
709   2  3  3  4  3  3  4  4  4   4   4
1392  3  4  4  3  3  5  3  5  4   4   4
1705  4  2  4  4  3  5  3  5  5   5   3
2638  5  6  5  4  5  5  4  5  4   4   5
2792  2  2  3  4  3  4  3  5  3   4   3
3003  3  3  3  4  4  5  5  3  3   3   3
3305  5  4  4  4  3  3  3  4  3   3   2
3550  3  4  6  3  3  4  4  3  4   2   2
3553  5  4  5  5  5  4  4  3  3   3   3</code></pre>
</div>
</div>
<ol start="2" type="1">
<li>Analisando estat√≠sticas descritivas usano a fun√ß√£o <code>describe()</code> do pacote <code>psych</code>:</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>psych<span class="sc">::</span><span class="fu">describe</span>(piesSimData)</span></code><button title="Copiar para a √°rea de transfer√™ncia" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    vars    n mean   sd median trimmed  mad min max range  skew kurtosis   se
i1     1 3600 3.73 0.97      4    3.75 1.48   1   7     6  0.01    -0.08 0.02
i2     2 3600 3.92 0.99      4    3.92 1.48   1   7     6  0.04    -0.02 0.02
i3     3 3600 4.08 0.95      4    4.09 1.48   1   7     6 -0.09     0.04 0.02
i4     4 3600 3.95 1.05      4    3.96 1.48   1   7     6 -0.01    -0.11 0.02
i5     5 3600 3.65 1.07      4    3.67 1.48   1   7     6  0.00    -0.17 0.02
i6     6 3600 4.31 1.06      4    4.29 1.48   1   7     6  0.04    -0.07 0.02
i7     7 3600 3.92 1.02      4    3.92 1.48   1   7     6  0.05    -0.09 0.02
i8     8 3600 4.47 0.90      4    4.47 1.48   1   7     6  0.01    -0.05 0.01
i9     9 3600 4.14 1.06      4    4.12 1.48   1   7     6  0.02    -0.02 0.02
i10   10 3600 3.76 1.05      4    3.78 1.48   1   7     6  0.03     0.00 0.02
i11   11 3600 3.92 0.98      4    3.92 1.48   1   7     6  0.04    -0.01 0.02</code></pre>
</div>
</div>
<ul>
<li>Podemos verificar que o conjunto de dados compreende valores discretos de 1 a 7, com m√©dia aproximada igual a 4.</li>
</ul></section><section id="dados-simulados-1" class="slide level2 scrollable"><h2>Dados Simulados</h2>
<p>Podemos Visualizar as rela√ß√µes entre os itens usando a fun√ß√£o <code><a href="https://rdrr.io/pkg/PerformanceAnalytics/man/chart.Correlation.html">PerformanceAnalytics::chart.Correlation</a></code>, selecionando um subconjunto dos itens ‚Äì dois itens de cada fator ‚Äì para tornar a inspe√ß√£o mais f√°cil:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>PerformanceAnalytics<span class="sc">::</span><span class="fu">chart.Correlation</span>(piesSimData[, <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">8</span>, <span class="dv">9</span>)])</span></code><button title="Copiar para a √°rea de transfer√™ncia" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

<p>Analisando os gr√°ficos de dispers√£o, vemos o esperado:</p>
<ul>
<li><p>os itens s√£o discretos, conforme mostrado nos gr√°ficos de densidade na diagonal, e;</p></li>
<li><p>os itens t√™m maior correla√ß√£o dentro de uma subescala, como entre <code>i1</code> vs.&nbsp;<code>i2</code>, do que entre as subescalas, como <code>i1</code> vs.&nbsp;<code>i4</code>.</p></li>
</ul></section><section id="dados-simulados-1-output" class="slide level2 scrollable output-location-slide"><h2>Dados Simulados</h2><div class="cell output-location-slide">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure><p><img data-src="aula07_files/figure-revealjs/unnamed-chunk-8-1.png" width="960"></p>
<figcaption>Matriz de gr√°fico de dispers√£o para itens selecionados dos dados PIES simulados. Itens individuais t√™m valores discretos que se aproximam de uma distribui√ß√£o normal (gr√°ficos de densidade na diagonal). Os itens s√£o todos positivamente correlacionados. Os itens dentro de um fator proposto, como i1 e i2, apresentam maior correla√ß√£o do que itens em fatores diferentes, i1 e i4.</figcaption></figure>
</div>
</div>
</div></section><section id="dados-simulados-2" class="slide level2 scrollable"><h2>Dados Simulados</h2>
<p>Como s√£o dados simulados de um modelo fatorial, tamb√©m podemos fazer uma r√°pida inspe√ß√£o da estrutura fatorial aparente.</p>
<p>Embora usemos CFA para fazer um teste forte de estrutura fatorial, √© √∫til realizar uma breve verifica√ß√£o usando a fun√ß√£o <code><a href="https://rdrr.io/r/stats/factanal.html">factanal()</a></code> para realizar uma EFA</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="fu">factanal</span>(piesSimData, <span class="at">factors =</span> <span class="dv">3</span>)</span></code><button title="Copiar para a √°rea de transfer√™ncia" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
factanal(x = piesSimData, factors = 3)

Uniquenesses:
   i1    i2    i3    i4    i5    i6    i7    i8    i9   i10   i11 
0.488 0.610 0.733 0.599 0.466 0.729 0.473 0.545 0.503 0.514 0.575 

Loadings:
    Factor1 Factor2 Factor3
i1  0.113   0.128   0.695  
i2  0.106   0.117   0.604  
i3  0.101           0.500  
i4  0.128   0.616          
i5  0.129   0.708   0.125  
i6          0.501   0.111  
i7  0.149   0.701   0.120  
i8  0.642   0.151   0.143  
i9  0.682   0.128   0.124  
i10 0.680   0.114          
i11 0.636   0.121          

               Factor1 Factor2 Factor3
SS loadings      1.841   1.727   1.197
Proportion Var   0.167   0.157   0.109
Cumulative Var   0.167   0.324   0.433

Test of the hypothesis that 3 factors are sufficient.
The chi square statistic is 10.8 on 25 degrees of freedom.
The p-value is 0.994 </code></pre>
</div>
</div>
<p>Vemos tr√™s fatores plaus√≠veis compreendendo os itens <code>i8‚Äìi11</code>, <code>i4‚Äìi7</code> e <code>i1‚Äìi3</code>, respectivamente, como seria de esperar (a ordem dos fatores √© irrelevante).</p>
<ul>
<li><p>Para recapitular, os dados simulados ‚Äì criados usando poucas fun√ß√µes em R ‚Äì t√™m o tipo de estrutura que se poderia esperar de uma pesquisa que utilizou o instrumento (<a href="#/pies-instrumento"><strong>Fig.</strong>&nbsp;1</a>) proposto pelo modelo PIES.</p></li>
<li><p>Passamos agora para a CFA.</p></li>
</ul></section><section id="estimando-o-modelo-cfa-para-pies" class="slide level2 scrollable"><h2>Estimando o Modelo CFA para PIES</h2>
<ul>
<li><p>A avalia√ß√£o da CFA come√ßa definindo o modelo que desejamos avaliar.</p></li>
<li><p>Nesse caso, modelamos os tr√™s fatores PIES (vari√°veis latentes): <code>General</code>, <code>Feature</code> e <code>Image</code> como manifestados pelos itens i1‚Äìi11.</p></li>
<li><p>Em seguida, modelamos a vari√°vel latente PIES geral como a combina√ß√£o dos outros tr√™s fatores.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="fu">library</span>(lavaan)</span>
<span id="cb14-2"><a href="#cb14-2"></a>piesModel <span class="ot">&lt;-</span> <span class="st">"General =~ i1 + i2 + i3</span></span>
<span id="cb14-3"><a href="#cb14-3"></a><span class="st">              Feature =~ i4 + i5 + i6 + i7</span></span>
<span id="cb14-4"><a href="#cb14-4"></a><span class="st">              Image =~ i8 + i9 + i10 + i11 </span></span>
<span id="cb14-5"><a href="#cb14-5"></a><span class="st">              PIES =~ General + Feature + Image"</span></span></code><button title="Copiar para a √°rea de transfer√™ncia" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Ajustamos este modelo aos dados usando <code>cfa(MODEL, data=DATA)</code> e inspecionamos o resultado com <code>summary(FIT, fit.measures=TRUE)</code>.</li>
</ul></section><section id="estimando-o-modelo-cfa-para-pies-1" class="slide level2 scrollable"><h2>Estimando o Modelo CFA para PIES</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>pies.fit <span class="ot">&lt;-</span> <span class="fu">cfa</span>(piesModel , <span class="at">data =</span> piesSimData)</span>
<span id="cb15-2"><a href="#cb15-2"></a><span class="fu">summary</span>(pies.fit, <span class="at">fit.measures =</span> <span class="cn">TRUE</span>)</span></code><button title="Copiar para a √°rea de transfer√™ncia" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>lavaan 0.6.16 ended normally after 43 iterations

  Estimator                                         ML
  Optimization method                           NLMINB
  Number of model parameters                        25

  Number of observations                          3600

Model Test User Model:
                                                      
  Test statistic                                34.709
  Degrees of freedom                                41
  P-value (Chi-square)                           0.745

Model Test Baseline Model:

  Test statistic                              9001.774
  Degrees of freedom                                55
  P-value                                        0.000

User Model versus Baseline Model:

  Comparative Fit Index (CFI)                    1.000
  Tucker-Lewis Index (TLI)                       1.001

Loglikelihood and Information Criteria:

  Loglikelihood user model (H0)             -51984.514
  Loglikelihood unrestricted model (H1)     -51967.160
                                                      
  Akaike (AIC)                              104019.029
  Bayesian (BIC)                            104173.746
  Sample-size adjusted Bayesian (SABIC)     104094.308

Root Mean Square Error of Approximation:

  RMSEA                                          0.000
  90 Percent confidence interval - lower         0.000
  90 Percent confidence interval - upper         0.008
  P-value H_0: RMSEA &lt;= 0.050                    1.000
  P-value H_0: RMSEA &gt;= 0.080                    0.000

Standardized Root Mean Square Residual:

  SRMR                                           0.011

Parameter Estimates:

  Standard errors                             Standard
  Information                                 Expected
  Information saturated (h1) model          Structured

Latent Variables:
                   Estimate  Std.Err  z-value  P(&gt;|z|)
  General =~                                          
    i1                1.000                           
    i2                0.894    0.040   22.528    0.000
    i3                0.706    0.033   21.285    0.000
  Feature =~                                          
    i4                1.000                           
    i5                1.187    0.039   30.802    0.000
    i6                0.838    0.034   24.724    0.000
    i7                1.131    0.037   30.805    0.000
  Image =~                                            
    i8                1.000                           
    i9                1.218    0.037   32.753    0.000
    i10               1.185    0.037   32.386    0.000
    i11               1.038    0.033   30.983    0.000
  PIES =~                                             
    General           1.000                           
    Feature           1.046    0.083   12.638    0.000
    Image             0.963    0.075   12.812    0.000

Variances:
                   Estimate  Std.Err  z-value  P(&gt;|z|)
   .i1                0.463    0.022   20.807    0.000
   .i2                0.600    0.021   28.196    0.000
   .i3                0.659    0.019   34.957    0.000
   .i4                0.663    0.019   34.157    0.000
   .i5                0.537    0.019   27.727    0.000
   .i6                0.815    0.022   37.794    0.000
   .i7                0.486    0.018   27.712    0.000
   .i8                0.434    0.014   32.112    0.000
   .i9                0.563    0.018   30.582    0.000
   .i10               0.574    0.018   31.436    0.000
   .i11               0.557    0.016   33.806    0.000
   .General           0.325    0.024   13.616    0.000
   .Feature           0.260    0.020   13.011    0.000
   .Image             0.229    0.016   13.954    0.000
    PIES              0.157    0.017    9.118    0.000</code></pre>
</div>
</div>
</section><section id="modelo-cfa-estimado-para-pies-resultado" class="slide level2 scrollable"><h2>Modelo CFA Estimado para PIES: Resultado</h2>
<ul>
<li><p>Os resultados da estima√ß√£o do Modelo da CFA indicam que modelo PIES se ajusta bem aos dados.</p></li>
<li><p>os √≠ndices de qualidade do ajuste s√£o bons (por exemplo, CFI = 1,00) e os res√≠duos s√£o baixos (RMSEA = 0,000).</p></li>
<li><p>A parte inferior dos resultados mostra que os par√¢metros do modelo para os caminhos dos fatores para os itens, e para o fator PIES de n√≠vel superior aos tr√™s subfatores, s√£o todos estatisticamente significativos (‚ÄúP(&gt;|z|)‚Äù = 0).</p></li>
<li><p>Al√©m disso, os par√¢metros s√£o semelhantes entre si em magnitude (variando de 0,838 a 1,218) e est√£o pr√≥ximos de 1,0, uma coisa boa segundo <span class="citation" data-cites="chapman2014pies">CHAPMAN et al. (<a href="#/refer√™ncias" role="doc-biblioref" onclick="">2014</a>)</span>, porque os itens s√£o destinados a serem usados em subescalas aditivas simples.</p></li>
<li><p>Se fossem dados reais, a CFA estabeleceria que o modelo hier√°rquico PIES se ajusta bem e ‚Äì como as cargas fatoriais dos itens est√£o em torno de 1,0 ‚Äì √© razo√°vel somar os itens como uma soma simples para formar pontua√ß√µes de subescalas, como √© comum para tais pesquisas.</p></li>
</ul></section><section id="visualizando-o-modelo-cfa-estimado" class="slide level2 scrollable"><h2>Visualizando o Modelo CFA Estimado</h2>
<ul>
<li><p>O modelo final com as estimativas de par√¢metros √© plotado pela fun√ß√£o <code><a href="https://rdrr.io/pkg/semPlot/man/semPaths.html">semPlot::semPaths()</a></code>.</p></li>
<li><p>Esta figura expressa algumas das informa√ß√µes cruciais da sa√≠da da estimac√£o do modelo CFA de uma forma mais leg√≠vel.</p></li>
<li><p>A vers√£o gr√°fica facilita ver as rela√ß√µes entre as vari√°veis latentes e m anifestas e para navegar pelos valores dos coeficientes</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="fu">library</span>(semPlot)</span>
<span id="cb17-2"><a href="#cb17-2"></a><span class="fu">semPaths</span>(pies.fit, <span class="at">what =</span> <span class="st">"est"</span>, <span class="at">fade =</span> <span class="cn">FALSE</span>, <span class="at">residuals =</span> <span class="cn">FALSE</span>, <span class="at">edge.label.cex =</span> <span class="fl">0.75</span>)</span></code><button title="Copiar para a √°rea de transfer√™ncia" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

</section><section id="visualizando-o-modelo-cfa-estimado-output" class="slide level2 scrollable output-location-slide"><h2>Visualizando o Modelo CFA Estimado</h2><div class="cell output-location-slide">
<div class="cell-output-display">
<p><img data-src="aula07_files/figure-revealjs/unnamed-chunk-12-1.png" width="960"></p>
</div>
</div></section><section id="avaliando-o-modelo-cfa-pies" class="slide level2 scrollable"><h2>Avaliando o modelo CFA PIES</h2>
<ul>
<li><p>O modelo PIES ajusta-se muito bem aos dados. Se fossem dados reais, estar√≠amos satifeitos, certo?</p></li>
<li><p>N√£o! Um erro comum com SEM √© propor um modelo, ajustar aos dados e depois afirmar, com base em √≠ndices de ajuste, que o modelo √© ‚Äúbom‚Äù.</p></li>
<li><p>O problema √© que algum outro modelo, e talvez mais razo√°vel, pode ser t√£o bom ou at√© melhor. Assim, h√° uma segunda etapa importante: <strong>avaliar se o modelo proposto se ajusta melhor do que um modelo alternativo razo√°vel</strong>.</p></li>
<li><p>Testaremos o modelo PIES hier√°rquico (‚ÄúPIES 3+1‚Äù) contra duas alternativas.</p></li>
</ul>
<ol type="1">
<li>O primeiro √© um modelo de fator √∫nico onde um fator de envolvimento subjacente se manifesta em todos os itens, chamaremos este modelo de ‚ÄúPIES 1‚Äù.</li>
</ol>
<p>√â um bom modelo alternativo ao hier√°rquico tanto por ser mais simples e porque se concentra no fator superior da hierarquia, avaliando se √© vantajoso adicionar as complica√ß√µes dos subfatores do ‚ÄúPIES 3+1‚Äù.</p>
</section><section id="pies-1" class="slide level2"><h2>PIES 1</h2>

<img data-src="img/pies1.jpeg" style="width:65.0%" class="r-stretch quarto-figure-center"><p class="caption"><strong>Figura</strong>&nbsp;4<strong>.</strong> Modelo Alternativo: PIES 1 (Fonte: <span class="citation" data-cites="chapman2014pies">CHAPMAN et al. (<a href="#/refer√™ncias" role="doc-biblioref" onclick="">2014</a>)</span>)</p></section><section id="avaliando-o-modelo-cfa-pies-1" class="slide level2"><h2>Avaliando o modelo CFA PIES</h2>
<ol start="2" type="1">
<li>O segundo √© um modelo de tr√™s fatores correlacionados, onde tr√™s fatores s√£o manifestados nos tr√™s respectivos conjuntos de itens, chamaremos este modelo de ‚ÄúPIES 3‚Äù.</li>
</ol>
<ul>
<li><p>PIES 3 omite o n√≠vel superior, o fator geral da hierarquia e concentra-se nos tr√™s subfatores, perguntando se eles s√£o melhor concebidos como sendo separados em vez de se relacionarem em um modelo hier√°rquico.</p></li>
<li><p>Se o modelo PIES 3 se ajustasse t√£o bem quanto PIES 3+1, poder√≠amos rejeitar a complica√ß√£o do modelo hier√°rquico.</p></li>
</ul></section><section id="pies-3" class="slide level2"><h2>PIES 3</h2>

<img data-src="img/pies3.jpeg" style="width:65.0%" class="r-stretch quarto-figure-center"><p class="caption"><strong>Figura</strong>&nbsp;5<strong>.</strong> Modelo Alternativo: PIES 3 (Fonte: <span class="citation" data-cites="chapman2014pies">CHAPMAN et al. (<a href="#/refer√™ncias" role="doc-biblioref" onclick="">2014</a>)</span>)</p></section><section id="estimando-pies-1-e-pies-3" class="slide level2"><h2>Estimando PIES 1 e PIES 3</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="co"># Modelo 1-fator:</span></span>
<span id="cb18-2"><a href="#cb18-2"></a>piesModelNH1 <span class="ot">&lt;-</span> <span class="st">"PIES =~ i1 + i2 + i3 + i4 + i5 + i6 + </span></span>
<span id="cb18-3"><a href="#cb18-3"></a><span class="st">                         i7 + i8 + i9 + i10 + i11"</span></span>
<span id="cb18-4"><a href="#cb18-4"></a></span>
<span id="cb18-5"><a href="#cb18-5"></a><span class="co"># Estimacao</span></span>
<span id="cb18-6"><a href="#cb18-6"></a>pies.fit.NH1 <span class="ot">&lt;-</span> lavaan<span class="sc">::</span><span class="fu">cfa</span>(piesModelNH1, <span class="at">data =</span> piesSimData)</span></code><button title="Copiar para a √°rea de transfer√™ncia" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="co"># Modelo 3-fatores:</span></span>
<span id="cb19-2"><a href="#cb19-2"></a>piesModelNH3 <span class="ot">&lt;-</span> <span class="st">"General =~ i1 + i2 + i3</span></span>
<span id="cb19-3"><a href="#cb19-3"></a><span class="st">                 Feature =~ i4 + i5 + i6  + i7</span></span>
<span id="cb19-4"><a href="#cb19-4"></a><span class="st">                 Image   =~ i8 + i9 + i10 + i11</span></span>
<span id="cb19-5"><a href="#cb19-5"></a><span class="st">                 General ~~ 0.1*Feature</span></span>
<span id="cb19-6"><a href="#cb19-6"></a><span class="st">                 General ~~ 0.1*Image</span></span>
<span id="cb19-7"><a href="#cb19-7"></a><span class="st">                 Feature ~~ 0.1*Image"</span></span>
<span id="cb19-8"><a href="#cb19-8"></a></span>
<span id="cb19-9"><a href="#cb19-9"></a><span class="co"># Estimacao</span></span>
<span id="cb19-10"><a href="#cb19-10"></a>pies.fit.NH3 <span class="ot">&lt;-</span> lavaan<span class="sc">::</span><span class="fu">cfa</span>(piesModelNH3, <span class="at">data =</span> piesSimData)</span></code><button title="Copiar para a √°rea de transfer√™ncia" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p>O operador <code>‚àº‚àº</code> especifica uma correla√ß√£o entre vari√°veis.</p></li>
<li><p>Ao usar um valor fixo de 0,1, especificamos que o valor da correla√ß√£o n√£o pode ser estimado, mas deve ser limitado a 0,1.</p></li>
</ul></section><section id="comparando-os-modelos" class="slide level2"><h2>Comparando os Modelos</h2>
<p>O pacote semTools fornece uma fun√ß√£o para comparar modelos CFA: <code>compareFit(MODEL1, MODEL2, ...)</code>.</p>
<ul>
<li><p>Ess fun√ß√£o reporta medidas individuais da qualidade do ajuste para cada modelo juntamente com compara√ß√µes de modelos aos pares.</p></li>
<li><p>Os modelos PIES s√£o aninhados (<em>nested</em>).</p></li>
</ul></section><section id="comparando-os-modelos-1" class="slide level2"><h2>Comparando os Modelos</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="fu">summary</span>(semTools<span class="sc">::</span><span class="fu">compareFit</span>(pies.fit.NH1, pies.fit.NH3, pies.fit))</span></code><button title="Copiar para a √°rea de transfer√™ncia" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>################### Nested Model Comparison #########################

Chi-Squared Difference Test

             Df    AIC    BIC    Chisq Chisq diff   RMSEA Df diff Pr(&gt;Chisq)
pies.fit     41 104019 104174   34.709                                      
pies.fit.NH1 44 107389 107525 3410.646     3375.9 0.55885       3  &lt; 2.2e-16
pies.fit.NH3 44 104078 104214   99.265    -3311.4 0.00000       0           
                
pies.fit        
pies.fit.NH1 ***
pies.fit.NH3    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

####################### Model Fit Indices ###########################
                 chisq df pvalue rmsea    cfi    tli  srmr         aic
pies.fit       34.709‚Ä† 41   .745 .000‚Ä† 1.000‚Ä† 1.001‚Ä† .011‚Ä† 104019.029‚Ä†
pies.fit.NH1 3410.646  44   .000 .146   .624   .530  .108  107388.966 
pies.fit.NH3   99.265  44   .000 .019   .994   .992  .045  104077.585 
                     bic
pies.fit     104173.746‚Ä†
pies.fit.NH1 107525.117 
pies.fit.NH3 104213.736 

################## Differences in Fit Indices #######################
                            df  rmsea    cfi    tli   srmr       aic       bic
pies.fit.NH1 - pies.fit      3  0.146 -0.376 -0.471  0.097  3369.938  3351.371
pies.fit.NH3 - pies.fit.NH1  0 -0.127  0.370  0.463 -0.063 -3311.381 -3311.381</code></pre>
</div>
</div>
</section><section id="comparando-os-modelos-2" class="slide level2 scrollable"><h2>Comparando os Modelos</h2>
<ul>
<li><p>Para interpretar as compara√ß√µes, come√ßamos inspecionando a segunda metade do relat√≥rio: ‚ÄúModel Fit Indices‚Äù.</p></li>
<li><p>O modelo n√£o hier√°rquico de tr√™s fatores (PIES 3) (pies.fit.NH3), apresentou bom ajuste: CFI=0,994, RMSEA=0,019.</p></li>
<li><p>Mas quando comparamos PIES 3 COM o modelo PIES 3+1 (pies.fit), os √≠ndices da qualidade do ajuste s√£o melhores (CFI = 1,000, RMSEA = 0,000).</p></li>
<li><p>O modelo PIES 3+1 √© melhor que o modelo PIES 3? Passamos para a parte superior do relat√≥rio para examinar a compara√ß√£o dos modelos: ‚ÄúNested Modelo Comparison‚Äù.</p></li>
<li><p>Os resultados do teste de <span class="math inline">\(\chi^2\)</span> indicam que n√†o h√° diferen√ßa estatisticamente significativa entre os modelos PIES 3 + 1 E PIES 3, mas que ambos apresentam ajuste melhor que o modelo com fator √∫nico, PIES 1.</p></li>
<li><p>Entretanto, o modelo PIES 3 + 1 apresentou crit√©rios de informa√ß√£o de Akaike e Bayesino melhores que os modelos PIES 3 e PIES 1.</p></li>
<li><p>Portanto, o modelo hier√°rquico fatorial PIES apresentou um ajuste marginalment superior aos dois modelos alternativos.</p></li>
</ul></section><section><section id="pontos-principais" class="title-slide slide level1 scrollable center"><h1>Pontos Principais</h1>
<ul>
<li><p>Se voc√™ usa escalas com v√°rios itens, verifique-as com EFA e CFA! N√£o apenas presuma que sua escala est√° correta ou que os itens s√£o carregados onde voc√™ espera.</p></li>
<li><p>Se voc√™ propor um modelo complexo, prove com a CFA que ele √© melhor que as alternativas.</p></li>
<li><p>Esta √°rea tem muito jarg√£o, mas n√£o √© intrinsecamente dif√≠cil‚Ä¶ ! SPSS, R, SAS e Stata todos possuem ferramentas para an√°lise fatorial.</p></li>
</ul></section><section id="workflow-para-desenvolvimento-de-escalas" class="slide level2 scrollable"><h2>Workflow para Desenvolvimento de Escalas</h2>
<ol type="1">
<li><p>Identifique os fatores de poss√≠vel interesse</p></li>
<li><p>Escreva itens para esses fatores e implemente uma (ou mais) pesquisa.</p></li>
<li><p>Use a EFA para identificar se os fatores se sustentam e quais itens s√£o correlacionados com os fatores.</p></li>
<li><p>Repita 1-3 at√© ter evid√™ncias de que os fatores s√£o confi√°veis e os itens s√£o bons.</p></li>
<li><p>Use a CFA para demonstrar que os fatores e itens se mant√™m em uma nova amostra.</p></li>
</ol></section><section id="aprendendo-mais-livros" class="slide level2"><h2>Aprendendo mais: Livros</h2>
<ol type="1">
<li><p>Brown (2015), <em>Confirmatory Factor Analysis for Applied Research</em>. Um texto bom e pr√°tico sobre CFA para as ci√™ncias sociais.</p></li>
<li><p>Kline (2015), <em>Principles and Practice of Structural Equation Modeling</em>. O guia definitivo para o uso de CFA e SEM em ci√™ncias sociais.</p></li>
<li><p>DeVellis (2011), <em>Scale Development</em>. Um guia muito pr√°tico e leg√≠vel para construir boas escalas de pesquisa.</p></li>
</ol></section><section id="notas-sobre-software-pacotes-r" class="slide level2 scrollable"><h2>Notas sobre software: pacotes R</h2>
<ul>
<li><p><a href="https://lavaan.ugent.be" target="_blank"><strong>lavaan</strong></a> √© um pacote SEM/CFA f√°cil de usar. Altamente recomendado.</p></li>
<li><p><a href="https://openmx.ssri.psu.edu" target="_blank"><strong>OpenMX</strong></a> fornece op√ß√µes avan√ßadas para SEM, como modelos de efeitos mistos.</p></li>
<li><p><code>semPlot</code> cria diagramas de caminho SEM/CFA b√°sicos conforme mostrado nestes slides.</p></li>
<li><p><code>psych</code> tem muitas op√ß√µes para an√°lise fatorial explorat√≥ria e outras aplica√ß√µes psicom√©tricas (pesquisa/teste).</p></li>
<li><p><code>corrplot</code> √© √∫til para explorar matrizes de correla√ß√£o com vistas a uma an√°lise fatorial.</p></li>
<li><p><code>DiagrammeR</code> cria diagramas de caminho de qualidade de publica√ß√£o. Isso requer especifica√ß√£o manual ‚Äî tediosa, mas n√£o dif√≠cil ‚Äî para diagramas EFA/CFA/SEM.</p></li>
</ul></section><section id="refer√™ncias" class="slide level2 smaller scrollable"><h2>Refer√™ncias</h2>
<div id="refs" class="references csl-bib-body" data-entry-spacing="1" role="list">
<div id="ref-chapman2014pies" class="csl-entry" role="listitem">
CHAPMAN, C. et al. The development of a hierarchical and universal scale for product involvement: The product involvement and engagement scale (<span>¬´PIES¬ª</span>). <strong>available from first author</strong>, 2014.
</div>
</div>

<img src="img/logo.jpeg" class="slide-logo r-stretch"><div class="footer footer-default">

</div>
</section></section>
</div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="aula07_files/libs/revealjs/dist/reveal.js"></script><!-- reveal.js plugins --><script src="aula07_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script><script src="aula07_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script><script src="aula07_files/libs/revealjs/plugin/reveal-menu/menu.js"></script><script src="aula07_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script><script src="aula07_files/libs/revealjs/plugin/quarto-support/support.js"></script><script src="aula07_files/libs/revealjs/plugin/notes/notes.js"></script><script src="aula07_files/libs/revealjs/plugin/search/search.js"></script><script src="aula07_files/libs/revealjs/plugin/zoom/zoom.js"></script><script src="aula07_files/libs/revealjs/plugin/math/math.js"></script><script>window.define = window.backupDefine; window.backupDefine = undefined;</script><script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'slide',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script><script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script><script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copiada");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copiada");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>


</body></html>